"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[387],{4387:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var r=o(821),n={class:"row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},i=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),l={class:"col-md-8"},s=(0,r.createElementVNode)("label",{for:""},"Names",-1),c={key:0,class:"fs-6 c-red-500"},d=(0,r.createElementVNode)("label",{for:""},"Municipality",-1),m={key:1,class:"fs-6 c-red-500"},u=(0,r.createElementVNode)("label",{for:""},"Barangay",-1),p={key:2,class:"fs-6 c-red-500"},f=(0,r.createElementVNode)("label",{for:""},"Permission",-1),y=[(0,r.createElementVNode)("option",{value:"Admin"},"Admin",-1),(0,r.createElementVNode)("option",{value:"Basic"},"Basic",-1)],h={key:3,class:"fs-6 c-red-500"},b=["disabled"];var g=o(9038);function V(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?V(Object(o),!0).forEach((function(t){C(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E={key:0,for:"id"},N=["id","type","value"],k={class:"fs-6 c-red-500"};var w=o(5934);const D={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat((0,w.Z)())}},type:{type:String,default:"text"},error:String,label:String,modelValue:String},mounted:function(){this.$attrs.isFocused&&this.focus()},emits:["update:modelValue"],methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(e,t){this.$refs.input.setSelectionRange(e,t)}}};var S=o(3744);const B={components:{TextInput:(0,S.Z)(D,[["render",function(e,t,o,n,a,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(e.$attrs.class)},[o.label?((0,r.openBlock)(),(0,r.createElementBlock)("label",E,(0,r.toDisplayString)(o.label)+":",1)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("input",(0,r.mergeProps)({id:o.id,ref:"input"},v(v({},e.$attrs),{},{class:null}),{class:["form-control",{error:o.error}],type:o.type,value:o.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})}),null,16,N),(0,r.createElementVNode)("div",k,(0,r.toDisplayString)(o.error),1)],2)}]])},props:{editData:Object},data:function(){return{form:(0,g.cI)({permission:"",name:"",citymunCode:"",brgyCode:"",purok_id:"",email:"",password:"",id:null}),municipals:[],barangays:[],puroks:[],testValue:"",pageTitle:"",loading:!1}},mounted:function(){void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.form.name=this.editData.name,this.form.email=this.editData.email,this.form.id=this.editData.id,this.form.citymunCode=this.editData.citymunCode,this.form.brgyCode=this.editData.brgyCode):this.pageTitle="Create",this.loadMunicipals(),this.loadBarangays()},methods:{submit:function(){void 0!==this.editData?this.form.patch("/users/"+this.form.id,this.form):this.form.post("/users",this.form)},loadMunicipals:function(){var e=this;axios.post("/municipalities").then((function(t){e.municipals=t.data}))},loadBarangays:function(){var e=this;axios.post("/barangays",{citymunCode:this.form.citymunCode}).then((function(t){e.barangays=t.data,e.puroks=[]}))}}},O=(0,S.Z)(B,[["render",function(e,t,o,g,V,v){var C=(0,r.resolveComponent)("Link"),E=(0,r.resolveComponent)("Select2"),N=(0,r.resolveComponent)("text-input");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(V.pageTitle)+" users",1),(0,r.createVNode)(C,{href:"/users"},{default:(0,r.withCtx)((function(){return[i]})),_:1})]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",{onSubmit:t[8]||(t[8]=(0,r.withModifiers)((function(e){return v.submit()}),["prevent"]))},[s,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return V.form.name=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,V.form.name]]),V.form.errors.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,(0,r.toDisplayString)(V.form.errors.name),1)):(0,r.createCommentVNode)("",!0),d,(0,r.createVNode)(E,{modelValue:V.form.citymunCode,"onUpdate:modelValue":t[1]||(t[1]=function(e){return V.form.citymunCode=e}),options:V.municipals,id:"municipals",onSelect:v.loadBarangays},null,8,["modelValue","options","onSelect"]),V.form.errors.citymunCode?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,(0,r.toDisplayString)(V.form.errors.citymunCode),1)):(0,r.createCommentVNode)("",!0),u,(0,r.createVNode)(E,{modelValue:V.form.brgyCode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return V.form.brgyCode=e}),options:V.barangays},null,8,["modelValue","options"]),V.form.errors.brgyCode?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,(0,r.toDisplayString)(V.form.errors.brgyCode),1)):(0,r.createCommentVNode)("",!0),f,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(e){return V.form.permission=e})},y,512),[[r.vModelSelect,V.form.permission]]),V.form.errors.brgyCode?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,(0,r.toDisplayString)(V.form.errors.brgyCode),1)):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(N,{modelValue:V.form.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return V.form.email=e}),error:V.form.errors.email,label:"Email",type:"email",isFocused:"focus"},null,8,["modelValue","error"]),(0,r.createVNode)(N,{modelValue:V.form.password,"onUpdate:modelValue":t[5]||(t[5]=function(e){return V.form.password=e}),label:"Password",type:"password"},null,8,["modelValue"]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[6]||(t[6]=function(e){return V.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,V.form.id]]),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3",onClick:t[7]||(t[7]=function(e){return v.submit()}),disabled:V.form.processing},"Save changes",8,b)],32)])])}]])}}]);